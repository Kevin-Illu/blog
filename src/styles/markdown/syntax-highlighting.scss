/* Estilos para bloques de código */
div[data-rehype-pretty-code-fragment] {
  background-color: $background-secondary;
  overflow: hidden;
  border-radius: 0.5rem;
  border: solid 1px;
  margin-top: 1rem;

  pre {
    overflow-x: auto;
    font-size: $font-size-4;
    line-height: 1.5rem;
  }

  code * {
    font-size: $font-size-3;
  }
}

div[data-rehype-pretty-code-title] {
  padding: 0.5rem;
  border-bottom: solid 1px;
  font-size: small;

  // INFO: no se porque aparece doble titulo
  // asi que lo elimino mejor :/
  &:last-of-type {
    display: none;
  }
}

div[data-rehype-pretty-code-fragment] span[data-line] {
  border-left: solid 0.2rem transparent;
}

/* Tema claro para bloques de código */
div[data-rehype-pretty-code-fragment] {
  background-color: $background-secondary;
  border-color: $border-primary;
}

div[data-rehype-pretty-code-title] {
  background-color: $background-secondary;

  border-color: $border-primary;
  color: $text-primary;
}

div[data-rehype-pretty-code-fragment] [data-highlighted-line] {
  border-left-color: $accent-color-9;
  background-color: $accent-color-3;
}

/* Estilos para líneas de código */
div[data-rehype-pretty-code-fragment] [data-line] {
  padding-left: 0.75rem;
  border-left-width: 8px;
  border-left-color: transparent;
}

/* 
    Temas claro y oscuro
    para caracteres resaltados 
*/
span[data-highlighted-chars] {
  padding: 0.1rem 0.4rem;
  border-radius: 4px;
  border-bottom: solid 2px;
}

span[data-highlighted-chars] {
  background-color: $accent-color-3;
  border-color: $accent-color-4;
}

// html[data-theme="dark"] span[data-highlighted-chars] {
//     background-color: $tomato-dark-a3;
//     border-color: $tomato-dark-a4;
// }

/*
    Tema claro y oscuros
    para líneas de codigo
*/
.line {
  padding: 0 0.4rem;
  border: solid 1px;
  border-radius: 0.5rem;
  background-color: $background-secondary;
  border-color: $border-primary;
}

// html[data-theme="dark"] .line {
//     background-color: $bg-dark-subtle;
//     // border-color: $border-dark-color;
// }

/* Estilos para números de línea */
code[data-line-numbers] {
  counter-reset: lineNumbers;

  > [data-line]::before {
    counter-increment: lineNumbers;
    content: counter(lineNumbers);
    display: inline-block;
    width: 1rem;
    padding-right: 1.4rem;
    text-align: right;
    color: gray;
  }
}

/*
    Configuración de esquemas de color
    esta es la logica para mostrar el code block
    segun el color scheme del usuario
*/
// pre[data-theme="dark"] {
//   color-scheme: dark;
// }
//
// html[data-theme="dark"] {
//   pre[data-theme="light"],
//   code[data-theme="light"] {
//     display: none;
//   }
// }
//
// html[data-theme="light"] {
//   pre[data-theme="dark"],
//   code[data-theme="dark"] {
//     display: none;
//   }
// }

pre[data-theme="dark"],
code[data-theme="dark"] {
  display: none;
}
